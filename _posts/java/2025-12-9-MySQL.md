---
layout:     post
title:      "MySQL, are you OK ? "
subtitle:   " \"重逢的开端,MySQL\""
date:       2025-12-9 12:00:00
author:     "HZY"
header-img: "img/java/1.png"
catalog: true
tags:
    - SQL
---
* 关系型数据库
* 非关系型数据库

## SQL : Structured Query Language
* DDL: Data Defination Language
* DML: Data Manipulation Language
* DCL: Data Control Language
#### 启动服务
``` bash
mysql -h 主机名 -P 端口号 -u 用户名 -p密码 

mysql -h localhost -P 3306 -u root -p
Enter password:****

#也可以使用MySQL自带的终端启动工具打开
#密码不要忘了，一般就是123456

mysql -V 
mysql --version

exit
quit
```

``` sql
create database db_name;
use db_name;

show tables;
show tables from db_name;

create table t_name (
    field1  类型,
    field2  类型
);

select * from t_name;

insert int t_name values();

/*查看创建表的详细信息*/
show create table t_name\G

drop table t_name;
drop datebase db_name;

```
#### SELECT
``` sql
select 列名 from table_name;
select * from tb_name;

-- 别名，不建议省略AS
SELECT long_name AS name,
    commission_pct comm,
    FROM tb_name;

-- 甚至可以加入算式
SELECT last_name "Name",
salary*12 "Annual Salary"
FROM em_table;

SELECT DISTINCT a_id,salary
FROM tb_name;

-- MySQL中，空值不等于空字符串，空战占用空间
SELECT emp_id,salary,commission_pct, 12 * salarry * (1 + commission_pct) "anual_sal" 
FROM tb_name;

-- 也有这种需求，增加一个new 字段
SELECT 'A表' as new_field , l_name 
FROM tb_name;

-- 显示表结构 
DESC tb_name;
DESCRIBE tb_name;

/*
- Field：表示字段名称。 
- Type：表示字段类型，这里 barcode、goodsname 是文本型的，price 是整数类型的。
- Null：表示该列是否可以存储NULL值。
- Key：表示该列是否已编制索引。PRI表示该列是表主键的一部分；UNI表示该列是UNIQUE索引的一部分；MUL表示在列中某个给定值允许出现多次。
- Default：表示该列是否有默认值，如果有，那么值是多少。
- Extra：表示可以获取的与给定列有关的附加信息，例如AUTO_INCREMENT等。
*/

-- 过滤
SELECT * FROM tb_name
WHERE 条件;

```

#### 运算符
``` sql
/*
在Java中，+的左右两边如果有字符串，那么表示字符串的拼接。但是在MySQL中+只表示数值相加。如果遇到非数值类型，先尝试转成数值，如果转失败，就按0计算。（补充：MySQL中字符串拼接要使用字符串函数CONCAT()实现）

整数与浮点数进行运算也会有转型

+ - * / % MOD
*/

SELECT employee_id,salary,salary * 12 annual_sal 
FROM employees;

-- 比较运算符
SELECT FROM tb_name WHERE A=B
SELECT FROM tb_name WHERE A<=>B  --安全等于运算符
<>  != 

 = 
-- 等号两边比较价钱，若类型相同的时候，途易语罗本
-- 如果有一个是字符串，则自动转字符串再进行比较
-- 如果有一个为NULL，那么结果也是NULL
 <=>
-- 安全运算符对NULL进行判断
SELECT com_id ,comss_id, FROM employees WHERE  comm_id <=> 
0.40 

!= <=>
-- 对于这些不等于的判断，没有空值判断，如果出现空值，结果就是空值

-- 非类型的运算符
IS NULL; 
IS NOTNULL;
LEAST;  -- return min
GREATEST -- return max 
ISNULL  
IN  -- 判断是否在表中
NOT IN 

LIKE    -- 模拟匹配
REGEXP  -- 判断是否符合正则
RLIKE   --   判断值是否符合正则

SELECT emp_id,comm_id FROM tb_name WHERE col_value IS NULL;
SELECT emp_id,comm_id FROM tb_name WHERE col_value com <=> NULL;
SELECT emp_id,comm_id FROM tb_name WHERE ISNULL(col_value);
SELECT emp_id,comm_id FROM tb_name WHERE col_value = NULL;
SELECT

#查询commission_pct不等于NULL
SELECT employee_id,commission_pct FROM employees WHERE commission_pct IS NOT NULL;
SELECT employee_id,commission_pct FROM employees WHERE NOT commission_pct <=> NULL;
SELECT employee_id,commission_pct FROM employees WHERE NOT ISNULL(commission_pct);

-- minVal
SELECT LEAST (1.0,3),l, LEAST('B','a','c'), LEAST(1,NULL,2);
-- 由结果可以看到，当参数是整数或者浮点数时，LEAST将返回其中最小的值；当参数为字符串时，返回字母表中顺序最靠前的字符；当比较值列表中有NULL时，不能判断大小，返回值为NULL。

--maxVal
SELECT LEAST (1.0,3),l, LEAST('B','a','c'), LEAST(1,NULL,2);
-- 那肯定和上面一样

--BETWEEN AND
SELECT salary,emp_id FROM tb_name 
WHERE salary BETWEEN 2500 AND 3500;

-- IN
-- IN运算符用于判断给定的值是否是IN列表中的一个值，如果是则返回1，否则返回0。如果给定的值为NULL，或者IN列表中存在NULL，则结果为NULL。
SELECT emp_id,last_name,manager_id;
FRPM emp_tbale WHERE manager_id IN (100,200,201);

-- NOT IN 

运算符用于判断给定的值是否不是IN列表中的一个值，如果不是IN列表中的一个值，则返回1，否则返回0。
```